<import src="../itemTabBarTemp/itemTabBarTemp.wxml"></import>
<import src="../template/template.wxml"></import>

<CustomNavBar isBack ="{{true}}"></CustomNavBar>
<view id="body">
  <!-- Add the sliding image component-->
  <view id="swiperContainer">
    <swiper indicator-dots="{{indicatorDots}}" autoplay="{{autoplay}}" duration="{{duration}}" style="height: 100%; width: 100%">
      <block wx:for="{{itemImages}}" wx:key="*this" wx:for-item="imgSrc">
        <swiper-item>
          <image src="{{imgSrc}}" mode="aspectFill" style="width: 100%; height: 100%;"></image>    
        </swiper-item>
      </block>
    </swiper>
  </view>
  <!-- Takes in the item type: "product" or "event" and displays accordingly-->
  <view id="customDescContainer">
    <block wx:if="{{itemType === 'product'}}">
      <view class="descContainer">
        <!-- Contains the price, title, and buttons-->
        <view class="priceCard">
          <!-- Contains two block elements and padding-->
          <view id="titleRow">
            <text>{{title ? title : 'Loading...'}}</text>
            <!--Contains the favorite and forward icon-->
            <view id="iconsContainer" style="display:flex">
              <view hover-class="mp-icon-hover" bindtap="clickHeart" hover-stay-time="{{200}}">
                <mp-icon icon="like" size="{{30}}" color="black" type="{{isFavorited ? 'field' : 'outline'}}"></mp-icon>
              </view>
              <view hover-class="mp-icon-hover" hover-stay-time="{{200}}">
                <mp-icon icon="share" size="{{30}}" color="black"></mp-icon>
              </view>
              
            </view>
          </view>
          <view id="mainRow">
            <!--Contains description and category tags-->
            <view class="viewPadding" id="leftBox">
              <view id="desc">
                <text>{{descSummary}}</text>
              </view>
              <!--Contains buttons that label the categories (like flairs)-->
              <view id="categoryButtons">
                <view wx:for="{{itemCategories}}" wx:for-index="idx" wx:for-item="category">
                  <button class="mini-btn" type="primary" >{{category}}</button>
                </view>
              </view>
            </view>
            <!--Contains price-->
            <view id="rightBox">
              <text>{{priceStr}}</text>
            </view>
          </view>   
        </view>
        <!-- Contains the item description-->
        <view class="descBox"></view>  
      </view>
    </block>
    <block wx:elif="{{itemType === 'event'}}">
      <text>Event</text>
    </block>
    <block wx:else>
      <text>Error- only product or event are valid parameters for itemDesc component.</text>
    </block>

  </view>
  
</view>
<CustomTabBar tabbarHeight="{{tabbarHeight}}"></CustomTabBar>




